<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <link rel="shortcut icon"
          href="https://raw.githubusercontent.com/Soyeon-ErinLee/Dobby-AI/main/Flask/templates/logo2.png"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Petit+Formal+Script&family=Rouge+Script&display=swap"
          rel="stylesheet">
    <title>Save Your Minutes</title>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
    <!-- Bootstrap core CSS -->
    <link href="../static/css/bootstrap.min.css" rel="stylesheet">
    <!-- Material Design Bootstrap -->
    <link href="../static/css/mdb.min.css" rel="stylesheet">
    <!-- Your custom styles (optional) -->
    <link href="../static/css/style.min.css" rel="stylesheet">
    <style type="text/css">
        @media (min-width: 800px) and (max-width: 850px) {
            .navbar:not(.top-nav-collapse) {
                background: #1C2331 !important;
            }
        }

        .navbar-custom {
            background-color: #080a29;
        }

        .is-readonly .btn-save {
            display: none;
        }

        .is-readonly input[disabled], form.is-readonly textarea[disabled] {

            cursor: text;
            background-color: #fff;
            border-color: transparent;
            outline-color: transparent;
            box-shadow: none;
        }

        .is-editing .btn-edit .is-readonly .btn-save {
            display: none;
        }

        .anyClass {
            height: 150px;
            overflow-y: scroll;
        }

        .makebig {
            width: 530px;
            height: 600px;
        }

        .alas {
            word-wrap: break-word;
        }

        .is-readonly input[disabled], form.is-readonly textarea[disabled] {
            cursor: text;
            background-color: #fff;
            border-color: transparent;
            outline-color: transparent;
            box-shadow: none;
        }

        .is-editing .btn-edit {
            display: none;
        }

        {
            display: none
        ;
        }
        #iframe {
            display: none;
        }

        #myBtn {
            display: none; /* Hidden by default */
            position: fixed; /* Fixed/sticky position */
            bottom: 20px; /* Place the button at the bottom of the page */
            right: 30px; /* Place the button 30px from the right */
            z-index: 99; /* Make sure it does not overlap */
            border: none; /* Remove borders */
            outline: none; /* Remove outline */
            background-color: #080a29; /* Set a background color */
            color: white; /* Text color */
            cursor: pointer; /* Add a mouse pointer on hover */
            padding: 15px; /* Some padding */
            border-radius: 10px; /* Rounded corners */
            font-size: 18px; /* Increase font size */
        }

        #myBtn:hover {
            background-color: #555; /* Add a dark-grey background on hover */
        }

        .container-audio {
            width: 66%;
            height: auto;
            padding: 20px;
            border-radius: 5px;
            background-color: #eee;
            color: #444;
            margin: 20px auto;
            overflow: hidden;
        }

        audio {
            width: 100%;
        }

        audio:nth-child(2), audio:nth-child(4), audio:nth-child(6) {
            margin: 0;
        }

    </style>
</head>

<body>

<!-- Navbar -->
<nav class="navbar fixed-top navbar-expand-lg navbar-dark navbar-custom scrolling-navbar">
    <div class="container">

        <!-- Brand -->
        <a class="navbar-brand waves-effect" href="/">

            <img src="https://raw.githubusercontent.com/Soyeon-ErinLee/Dobby-AI/main/Flask/templates/logo1.png"
                 height="30" alt="logo">
        </a>

        <!-- Collapse -->
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Links -->
        <div class="collapse navbar-collapse" id="navbarSupportedContent">

            <!-- Left -->
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="/">Home
                        <span class="sr-only">(current)</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="/#tutorial">Tutorial</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/#upload">Upload File
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/#aboutus">About Us</a>
                </li>
            </ul>

            <!-- Right -->
            <ul class="navbar-nav nav-flex-icons">

                <li class="nav-item">
                    <a href="https://github.com/Soyeon-ErinLee/Dobby-AI" class="nav-link border border-light rounded"
                       target="_blank">
                        <i class="fab fa-github mr-2"></i>Visit Our GitHub
                    </a>
                </li>
            </ul>

        </div>

    </div>
</nav>
<!-- Navbar -->

<!--Main layout-->
<main class="mt-5 pt-3">
    <div class="container">

        <!--Section: Main info-->
        <section class="mt-5 wow fadeIn">
            <h3 class="h3 text-center mb-5"><strong>Edit and Save</strong></h3>
            <hr class="mb-3">
            <div class="container-audio">
                <audio controls loop>
                    <source src="https://raw.githubusercontent.com/Soyeon-ErinLee/Dobby-AI/main/Flask/templates/Lovesick%20Girls.mp3"
                            type="audio/mp3">
                    Your browser dose not Support the audio Tag
                </audio>
            </div>
            <hr class="mb-3">
            <!--Grid row-->
            <div class="row">

                <!--Grid column-->
                <div class="col-md-6 mb-4">

                    <h5 class="font-weight-bold">Transcript</h5>
                    <hr class="mb-3">

                    <form class="is-readonly" role="form">
                        <div class="form-group">
                            <iframe id="iframe"></iframe>
                            <div type="text" class="form-control anyClass alas makebig is-disabled"
                                 id="edit" disabled>
                                <strong>Speaker 1 00:03 <br></strong>
                                When I was in college, it was my dream to be a lawyer. I needed
                                some money and Trevor convinced me to memorize this math test
                                and sell it. Turns out we sold it to the dean's daughter. I lost my
                                scholarship, I got kicked out of school, I got knocked into a
                                different life. And I have been wishing for a way back ever since. <br><br>
                                <strong>Speaker 2 00:51 <br></strong>
                                Let me tell you something. This isn't elementary school. This is hard
                                work. Long hours. High pressure. I need a grown goddamn man. <br><br>
                                <strong>Speaker 1 01:07 <br></strong>
                                You give me this, and I will work as hard as it takes to school those
                                Harvard douches and become the best lawyer you have ever seen. <br><br>
                                <strong>Speaker 2 01:21 <br></strong>
                                I'm inclined to give you a shot but what if I decide to go another
                                way? <br><br>
                                <strong>Speaker 1 01:37 <br></strong>
                                I'd say that's fair. <br><br>
                                <strong>Speaker 2 01:41 <br></strong>
                                Sometimes, I like to hang out with people who aren't that bright.
                                You know, just to see how the other half lives. Move over. I'm
                                emailing the firm we've just found our next associate. All right.
                            </div>
                        </div>

                        <button type="button" class="btn btn-edit js-edit" onclick="Editable()">Edit</button>
                        <button type="button" class="btn btn-save js-save" onclick="saveEdits()">Save</button>
                        <a type="button" class="btn" id="saveButton" target="iframe" download="note.txt" href="#"
                           onclick="save();">Download</a>
                    </form>

                </div>
                <!--Grid column-->

                <!--Grid column-->
                <div class="col-md-6 mb-4">
                    <h5 class="font-weight-bold">Minutes</h5>
                    <hr class="mb-3">
                    <!-- Main heading -->

                    <div class="WordSection1">
                        <table class="table table-bordered" contenteditable="true">
                            <tr>
                                <td>Topic</td>
                                <td>KIC Project Progress Check 10th Meeting</td>
                            </tr>
                            <tr>
                                <td>Participants</td>
                                <td>Erin, Steven, Sierra, Koo, Kim, and Jeon</td>
                            </tr>
                            <tr>
                                <td>Date</td>
                                <td>2021-02-07</td>
                            </tr>
                        </table>
                    </div>

                </div>
                <!--Grid column-->

            </div>
            <!--Grid row-->

        </section>
        <!--Section: Main info-->


        <hr class="mb-5">


    </div>
</main>
<!--Main layout-->
<button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
<!--Footer-->
<footer class="page-footer text-center font-small mt-4 wow fadeIn">

    <!--Call to action-->
    <div class="pt-4">
        <a class="btn btn-outline-white" href="/#tutorial" target="_blank"
           role="button">Start
            free tutorial
            <i class="fas fa-graduation-cap ml-2"></i>
        </a>
    </div>
    <!--/.Call to action-->

    <hr class="my-4">

    <!-- Social icons -->
    <div class="pb-4">

        <a href="https://github.com/Soyeon-ErinLee/Dobby-AI" target="_blank">
            <i class="fab fa-github mr-3"></i>
        </a>

    </div>
    <!-- Social icons -->

    <!--Copyright-->
    <div class="footer-copyright py-3">
        Â© 2021 Copyright
        <a>Dobby AI</a>
    </div>
    <!--/.Copyright-->

</footer>
<!--/.Footer-->

<!-- SCRIPTS -->
<!-- JQuery -->
<script type="text/javascript" src="../static/js/jquery-3.4.1.min.js"></script>
<!-- Bootstrap tooltips -->
<script type="text/javascript" src="../static/js/popper.min.js"></script>
<!-- Bootstrap core JavaScript -->
<script type="text/javascript" src="../static/js/bootstrap.min.js"></script>
<!-- MDB core JavaScript -->
<script type="text/javascript" src="../static/js/mdb.min.js"></script>
<!-- Initializations -->
<script type="text/javascript">
    // Animations initialization
    new WOW().init();
</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script>
    document.querySelectorAll('.form-outline').forEach((formOutline) => {
        new mdb.Input(formOutline).update();
    });</script>
<script src="/static/js/query1.js"></script>
<script>
    //Get the button
    var mybutton = document.getElementById("myBtn");

    // When the user scrolls down 20px from the top of the document, show the button
    window.onscroll = function () {
        scrollFunction()
    };

    function scrollFunction() {
        if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            mybutton.style.display = "block";
        } else {
            mybutton.style.display = "none";
        }
    }

    // When the user clicks on the button, scroll to the top of the document
    function topFunction() {
        document.body.scrollTop = 0;
        document.documentElement.scrollTop = 0;
    }

    function save() {
        var note = document.getElementById('edit').innerHTML;
        note = note.replace(/(<div><br>)*<\/div>/g, '\n');
        note = note.replace(/<br>*<\/strong>/g, '');
        note = note.replace(/<div>/g, '');
        note = note.replace(/<strong>/g, '');
        note = note.replace(/<br>/g, '');
        /* replaces some html entities */
        note = note.replace(/&nbsp;/g, ' ');
        note = note.replace(/&amp;/g, '&');
        note = note.replace(/&lt;/g, '<');
        note = note.replace(/&gt;/g, '>');
        document.getElementById('saveButton').setAttribute(
            'href',
            'data:Content-type: text/plain, ' + escape(note)
        );
    }

    function Editable() {
        var editElem = document.getElementById("edit");
        editElem.contentEditable = "true";
    }

    function saveEdits() {
        var editElem = document.getElementById("edit");
        editElem.contentEditable = "false";
        //get the edited element content
        var userVersion = editElem.innerHTML;
        //save the content to local storage
        localStorage.userEdits = userVersion;
    }

    function checkEdits() {
        //find out if the user has previously saved edits
        if (localStorage.userEdits != null)
            document.getElementById("edit").innerHTML = localStorage.userEdits;
    }

    $(document).ready(function () {
        $('.js-edit, .js-save').on('click', function () {
            var $form = $(this).closest('form');
            $form.toggleClass('is-readonly is-editing');
            var isReadonly = $form.hasClass('is-readonly');
            $form.find('input,textarea').prop('disabled', isReadonly);
        });
    });

</script>
</body>

</html>
<!--document.forms["txt"].submit();-->